(this.webpackJsonpprotime=this.webpackJsonpprotime||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(7),o=n.n(l),c=(n(13),n(14),n(1)),u=n(2),i=n(3),m=n(5),s=n(4),h=(n(15),function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleNameChange=function(t){e.props.onNameChange(e.props.index,t.target.value)},e.handlePercentChange=function(t){e.props.onPercentChange(e.props.index,t.target.value)},e.handleRemove=function(){e.props.onRemove&&e.props.onRemove(e.props.index)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.percent,a=e.totalDays,l=e.fullDays,o=e.hours;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"text",placeholder:"Enter name",value:t,onChange:this.handleNameChange})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",placeholder:"Enter percent",value:n,onChange:this.handlePercentChange})),r.a.createElement("td",null,r.a.createElement("div",null,a)),r.a.createElement("td",null,r.a.createElement("div",null,l)),r.a.createElement("td",null,r.a.createElement("div",null,Math.round(100*Number(o))/100)),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"pure-button button-warning",onClick:this.props.onRemove?this.handleRemove:void 0,disabled:void 0===this.props.onRemove},"Remove")))}}]),n}(r.a.Component));function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}var p={days:"20",hoursPerDay:"8.4",projectTimes:[{name:"",percent:"100"}]},v=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e)).handleDaysChange=function(e){var t;a.setState({days:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})},a.handleHoursPerDayChange=function(e){var t;a.setState({hoursPerDay:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})},a.handleNameChange=function(e,t){a.setState({projectTimes:a.state.projectTimes.map((function(n,a){return a===e?Object(c.a)(Object(c.a)({},n),{},{name:t}):n}))})},a.handlePercentChange=function(e,t){a.setState({projectTimes:a.state.projectTimes.map((function(n,a){return a===e?Object(c.a)(Object(c.a)({},n),{},{percent:t}):n}))})},a.handleRemove=function(e){a.setState({projectTimes:a.state.projectTimes.filter((function(t,n){return n!==e}))})},a.handleAddProjectClick=function(){var e=a.state.projectTimes.reduce((function(e,t){var n=t.percent;return e-Number(n)}),100);a.setState({projectTimes:a.state.projectTimes.concat({name:"",percent:e.toString()})})};var r=localStorage.getItem("protime");return a.state=r?Object(c.a)(Object(c.a)({},p),JSON.parse(r)):Object(c.a)({},p),a}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(){localStorage.setItem("protime",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this,t=this.state.projectTimes.map((function(t){var n=t.name,a=t.percent,r=Number(e.state.days)*Number(a)/100,l=Math.floor(r);return{name:n,percent:a,totalDays:r,fullDays:l,hours:(r-l)*Number(e.state.hoursPerDay)}})),n=t.reduce((function(e,t){var n=t.percent;return e+Number(n)}),0),a=d(t.reduce((function(e,t){var n=t.totalDays;return e+Number(n)}),0),2),l=t.reduce((function(e,t){var n=t.fullDays;return e+Number(n)}),0),o=d(t.reduce((function(e,t){var n=t.hours;return e+Number(n)}),0),2),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8.4;function n(e){return e.reduce((function(e,t){return e+t}),0)}var a=[];return e.map((function(e){return d(e,2)})).forEach((function(e,r){if(0!==a.length){var l=a[a.length-1],o=n(l);if(o===t&&a.push([e]),o<t){if(o+e<=t)return void l.push(e);l.push(d(t-o,2)),a.push([d(o+e-t,2)])}}else a[0]=[e]}),[]),a}(t.map((function(e){return e.hours}))),u=[];return c.filter((function(e){return!(1===e.length&&0===e[0])})).forEach((function(e,n){u.push([]),e.forEach((function(e,a){u[n].push({name:t[n+a].name,hours:e})}))})),r.a.createElement("div",{className:"Protime"},r.a.createElement("form",null,r.a.createElement("fieldset",null,r.a.createElement("div",{className:"flex five-600 config"},r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"number",name:"days",placeholder:"Days worked",onChange:this.handleDaysChange,value:this.state.days}))),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"number",name:"hoursPerDay",placeholder:"Hours per day",onChange:this.handleHoursPerDayChange,value:this.state.hoursPerDay}))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:this.handleAddProjectClick},"Add Project"))),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Project Name"),r.a.createElement("th",null,"Booking %"),r.a.createElement("th",null,"Total Days"),r.a.createElement("th",null,"Full Days"),r.a.createElement("th",null,"Hours"),r.a.createElement("th",null,"\xa0"))),r.a.createElement("tbody",null,t.map((function(t,n){var a=t.name,l=t.percent,o=t.totalDays,c=t.fullDays,u=t.hours;return r.a.createElement(h,{index:n,key:n,name:a,percent:l,totalDays:o,fullDays:c,hours:u,onNameChange:e.handleNameChange,onPercentChange:e.handlePercentChange,onRemove:e.state.projectTimes.length>1?e.handleRemove:void 0})}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Totals"),r.a.createElement("td",null,r.a.createElement("div",{className:100!==n?"invalid":""},n)),r.a.createElement("td",null,r.a.createElement("div",null,a)),r.a.createElement("td",null,r.a.createElement("div",null,l)),r.a.createElement("td",null,r.a.createElement("div",null,o))))),o>0?r.a.createElement("div",null,r.a.createElement("h3",null,"Hours Booking Instructions"),u.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("div",null,"Day: ",t+1),r.a.createElement("div",null,e.map((function(e){var t=e.name,n=e.hours;return r.a.createElement("div",null,t," : ",n)}))))}))):null)))}}]),n}(r.a.Component);var f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Protime Calculator"),r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.bd2ef4d6.chunk.js.map